{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function request(inputValue) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '44836601-5a8b44801a2932315159889f0';\n  return fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${inputValue}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n","export function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        downloads,\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n      }) => `\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n    <div class=\"gallery-list\">\n    <div class=\"gallery-item\"><b>Likes</b> <span>${likes}</span></div>\n    <div class=\"gallery-item\"><b>Views</b> <span>${views}</span></div>\n    <div class=\"gallery-item\"><b>Comments</b> <span>${comments}</span></div>\n    <div class=\"gallery-item\"><b>Downloads</b> <span>${downloads}</span></div>\n    </div></a>\n      `\n    )\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { request } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\n\nconst form = document.querySelector('.submit-form');\nconst list = document.querySelector('.gallery');\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n\n  list.innerHTML = `<span class=\"loader\"></span>`;\n  const inputValue = evt.currentTarget.elements.search.value;\n  if (inputValue.length === 0) {\n    return;\n  }\n\n  request(inputValue)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.show({\n          message:\n            ' Sorry, there are no images matching your search query. Please try again!',\n          color: '#EF4040',\n          position: 'topRight',\n          messageColor: 'white',\n          messageSize: '5px',\n          timeout: 2000,\n          padding: '20px',\n          gap: '8px',\n          borderRadius: '4px',\n        });\n        list.innerHTML = ``;\n        return;\n      }\n      list.innerHTML = createMarkup(data.hits);\n      init();\n    })\n    .catch(err => console.log(err));\n}\n\nfunction init() {\n  const instance = new SimpleLightbox('.gallery a', {\n    captionsDelay: 250,\n    captionPosition: 'bottom',\n  });\n  instance.refresh();\n}\n"],"names":["request","inputValue","resp","createMarkup","arr","downloads","webformatURL","largeImageURL","tags","likes","views","comments","form","list","onSubmit","evt","data","iziToast","init","err","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAQC,EAAY,CAGlC,OAAO,MACL,qEAAgCA,CAAU,0DAC9C,EAAI,KAAKC,GAAQ,CACb,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEjC,OAAOA,EAAK,MAChB,CAAG,CACH,CCXO,SAASC,EAAaC,EAAK,CAChC,OAAOA,EACJ,IACC,CAAC,CACC,UAAAC,EACA,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,CACR,IAAY;AAAA,oCACwBJ,CAAa;AAAA,sCACXD,CAAY,UAAUE,CAAI;AAAA;AAAA,mDAEbC,CAAK;AAAA,mDACLC,CAAK;AAAA,sDACFC,CAAQ;AAAA,uDACPN,CAAS;AAAA;AAAA,OAG3D,EACA,KAAK,EAAE,CACZ,CCdA,MAAMO,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAO,SAAS,cAAc,UAAU,EAE9CD,EAAK,iBAAiB,SAAUE,CAAQ,EAExC,SAASA,EAASC,EAAK,CACrBA,EAAI,eAAc,EAElBF,EAAK,UAAY,+BACjB,MAAMZ,EAAac,EAAI,cAAc,SAAS,OAAO,MACjDd,EAAW,SAAW,GAI1BD,EAAQC,CAAU,EACf,KAAKe,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,KAAK,CACZ,QACE,4EACF,MAAO,UACP,SAAU,WACV,aAAc,QACd,YAAa,MACb,QAAS,IACT,QAAS,OACT,IAAK,MACL,aAAc,KACxB,CAAS,EACDJ,EAAK,UAAY,GACjB,MACD,CACDA,EAAK,UAAYV,EAAaa,EAAK,IAAI,EACvCE,GACN,CAAK,EACA,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAClC,CAEA,SAASD,GAAO,CACG,IAAIE,EAAe,aAAc,CAChD,cAAe,IACf,gBAAiB,QACrB,CAAG,EACQ,QAAO,CAClB"}